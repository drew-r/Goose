<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Goose by drew-r</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/drew-r/Goose">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/drew-r/Goose/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/drew-r/Goose/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Goose</h1>
          <p>Runtime C# compilation and integrated Lua scripting for fun and profit.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/drew-r">drew-r</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="here-lives" class="anchor" href="#here-lives"><span class="octicon octicon-link"></span></a>Here lives...</h1>

<p>...the documentation for Goose, a project that combines runtime C# compilation with Lua scripting (NLua). </p>

<h3>
<a name="what-does-it-do" class="anchor" href="#what-does-it-do"><span class="octicon octicon-link"></span></a>What does it do?</h3>

<p>Goose allows you to make use of C# classes &amp; objects compiled at runtime, without invoking a single reflection method. This provides workable C# scripting, on the condition that you are happy to glue scripted C# components into the CLR with Lua.</p>

<p>This comes built on top of NLua's already excellent functionality (quite literally, the Goose VM inherits directly from NLua's), including automatic conversion between Lua and CLR primitives, Lua functions and CLR delegates (great for event handlers and callbacks) and Lua tables and CLR interfaces (dynamically implement a CLR interface with Lua) as well as support for invoking overloaded CLR methods etc.</p>

<h3>
<a name="by-example" class="anchor" href="#by-example"><span class="octicon octicon-link"></span></a>By example...</h3>

<h4>
<a name="compile-a-class" class="anchor" href="#compile-a-class"><span class="octicon octicon-link"></span></a>Compile a class</h4>

<p><em>from string(s), file paths, directory paths or a combination of the above.</em></p>

<div class="highlight highlight-csharp"><pre>
<span class="n">VM</span> <span class="n">vm</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Goose</span><span class="p">.</span><span class="n">VM</span><span class="p">();</span>

<span class="n">vm</span><span class="p">.</span><span class="n">Compile</span><span class="p">(</span><span class="s">"HelloWorldAssembly"</span><span class="p">,</span> <span class="k">new</span> <span class="kt">string</span><span class="p">[]</span> <span class="p">{</span> <span class="s">@"</span>
<span class="s">using System; </span>
<span class="s">using System.Windows.Forms;</span>
<span class="s">namespace HelloWorldNamespace </span>
<span class="s">{</span>
<span class="s">   public class HelloWorld </span>
<span class="s">   {</span>
<span class="s">      public void SayHello()</span>
<span class="s">      { </span>
<span class="s">         MessageBox.Show(""Hello, World""); </span>
<span class="s">      }</span>
<span class="s">   }</span>
<span class="s">}</span>
<span class="s">"</span><span class="p">},</span><span class="s">"System.Windows.Forms"</span><span class="p">);</span>

</pre></div>

<h4>
<a name="create-an-instance-and-invoke-a-method-from-lua" class="anchor" href="#create-an-instance-and-invoke-a-method-from-lua"><span class="octicon octicon-link"></span></a>Create an instance and invoke a method from Lua</h4>

<div class="highlight highlight-csharp"><pre>
<span class="n">vm</span><span class="p">.</span><span class="n">DoString</span><span class="p">(</span><span class="s">"h = HelloWorld()"</span><span class="p">);</span>
<span class="n">vm</span><span class="p">.</span><span class="n">DoString</span><span class="p">(</span><span class="s">"h:SayHello()"</span><span class="p">);</span>

</pre></div>

<h4>
<a name="or-return-the-instance-to-the-clr-and-invoke-it-from-there" class="anchor" href="#or-return-the-instance-to-the-clr-and-invoke-it-from-there"><span class="octicon octicon-link"></span></a>or return the instance to the CLR and invoke it from there</h4>

<pre><code>
dynamic h = vm.DoString("return h")[0];
h.SayHello();

</code></pre>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>